webpackJsonp([7],{"1inY":function(e,t){},MZMf:function(e,t){},nK2X:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),o=a.n(n),s=a("exGp"),r=a.n(s),i={data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},inouttitle:"",startTime:"",endTime:"",zhangyangshi:"",zhangyangshitxt:"",value1:"",value2:"",checkdataa:[],form1:{expenseUserInfo:{name:""},actualName:"",clerk:"",incomeExpenseInfoId:"",comment:"",account:"",aa:"",oddNumber:"",createDate:"",createTime:"",userInfo:{userInfoId:"",name:""},paymentTermName:"",currencyInfo:{currencyInfoId:""},supplier:{supplierName:""},incomeAmount:"",expenseAmount:"",customerInfo:{customerInfoId:"",customerName:""},bankInfo:{bankInfoId:"",bankName:""},actInfoId:"",accountTitle:{accountTitleId:""},companyInfo:{companyInfoId:"",companyName:""},department:{departmentId:"",nameL:""},productLine:{productLineId:""},projectInfo:{projectInfoId:""},sumRatio:"",actExecutions:[]},search:"",total:2,page:1,pageSize:30,userInfoId:"",tableData:[],form:{test:1,text:"dhaskjdhasjkdhasf打首付款几哈是否会暗示法哈克斯房间号按时发哈市副科级暗示法好假刷卡几号放假"},dialogVisible:!1,querydialogVisible:!1}},created:function(){this.geteventInfoList()},methods:{rounddate:function(e){console.log(e),console.log(this.value1,this.value2),this.startTime=e[0],this.endTime=e[1],this.geteventInfoList()},deldata:function(e){var t=this;return r()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,t)}))()},checkdata:function(e){var t=this;return r()(o.a.mark(function a(){var n,s;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.dialogVisible=!0,a.next=3,t.$axios.get("hbte-financial/hbte/actExecution/getActExecution",{params:{eventInfoId:e}});case 3:n=a.sent,s=n.data,console.log(s.data),t.checkdataa=s.data;case 7:case"end":return a.stop()}},a,t)}))()},geteventInfoList:function(){var e=this;return r()(o.a.mark(function t(){var a,n,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=JSON.parse(localStorage.getItem("data")),e.userInfoId=a.id,t.next=4,e.$axios.get("hbte-financial/hbte/event/eventInfoList",{params:{page:e.page,pageSize:e.pageSize,userInfoId:a.id,startTime:e.startTime,endTime:e.endTime}});case 4:n=t.sent,s=n.data,e.tableData=s.data,e.total=s.count;case 8:case"end":return t.stop()}},t,e)}))()},queryInout:function(e){var t=this;return r()(o.a.mark(function a(){var n,s;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.querydialogVisible=!0,a.next=3,t.$axios.get("hbte-financial/hbte/incomeExpense/getIncomeExpenseInfo",{params:{incomeExpenseInfoId:e,page:t.page,pageSize:t.pageSize}});case 3:n=a.sent,s=n.data,console.log(s.data),t.form1=s.data,0==s.data.incomeExpenseType?t.inouttitle="收款单据":1==s.data.incomeExpenseType?t.inouttitle="付款单据":2==s.data.incomeExpenseType?t.inouttitle="报销单据":t.inouttitle="其他单据",0==s.data.actStatus?(t.zhangyangshitxt="进行中",t.zhangyangshi="border:3px solid #ccc;color:#ccc"):1==s.data.actStatus?(t.zhangyangshitxt="已同意",t.zhangyangshi="border:3px solid rgb(103, 194, 58);color:rgb(103, 194, 58)"):2==s.data.actStatus&&(t.zhangyangshitxt="已拒绝",t.zhangyangshi="border:3px solid red;color:red");case 9:case"end":return a.stop()}},a,t)}))()},handleSizeChange:function(e){this.pageSize=e,this.page=1,this.geteventInfoList()},handleCurrentChange:function(e){this.page=e,this.geteventInfoList()}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ApplicationList"},[a("div",{staticClass:"block"},[a("el-date-picker",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd"},on:{change:e.rounddate},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.filter(function(t){return!e.search||t.name.toLowerCase().includes(e.search.toLowerCase())}),border:"",size:"mini"}},[a("el-table-column",{attrs:{sortable:"",label:"单据类型"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",{directives:[{name:"show",rawName:"v-show",value:0==n.incomeExpenseInfo.incomeExpenseType,expression:"row.incomeExpenseInfo.incomeExpenseType==0"}]},[e._v("收款单据")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==n.incomeExpenseInfo.incomeExpenseType,expression:"row.incomeExpenseInfo.incomeExpenseType==1"}]},[e._v("付款单据")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:2==n.incomeExpenseInfo.incomeExpenseType,expression:"row.incomeExpenseInfo.incomeExpenseType==2"}]},[e._v("报销单据")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"userInfo.name",sortable:"",label:"申请人",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"eventTime",label:"申请日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"incomeExpenseInfo.oddNumber",sortable:"",label:"收支单据"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("a",{attrs:{href:"###"},on:{click:function(t){return e.queryInout(n.incomeExpenseInfo.incomeExpenseInfoId)}}},[e._v(e._s(n.incomeExpenseInfo.oddNumber))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"状态",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[0===n.eventStatus?a("el-button",{attrs:{type:"info",size:"small",disabled:""}},[e._v("进行中")]):e._e(),e._v(" "),1===n.eventStatus?a("el-button",{attrs:{type:"success",size:"small",disabled:""}},[e._v("已完成")]):e._e(),e._v(" "),2===n.eventStatus?a("el-button",{attrs:{type:"danger",size:"small",disabled:""}},[e._v("已拒绝")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"eventComment",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.checkdata(n.eventInfoId)}}},[e._v("查看进度")])]}}])})],1),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"","current-page":e.page,"page-sizes":[30,50,80],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"当前进度",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.checkdataa}},[a("el-table-column",{attrs:{prop:"userInfo.name",label:"名字"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actExecutionTime",label:"时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"actExecutionComment",label:"备注"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[0===n.actExecutionStatus?a("el-button",{attrs:{type:"info",disabled:"",size:"small"}},[e._v("未处理")]):e._e(),e._v(" "),1===n.actExecutionStatus?a("el-button",{attrs:{type:"success",disabled:"",size:"small"}},[e._v("同意")]):e._e(),e._v(" "),2===n.actExecutionStatus?a("el-button",{attrs:{type:"danger",disabled:"",size:"small"}},[e._v("拒绝")]):e._e()]}}])})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.inouttitle,visible:e.querydialogVisible,width:"40%"},on:{"update:visible":function(t){e.querydialogVisible=t}}},[a("div",{staticClass:"rongqi"},[a("div",{staticClass:"zhang",style:e.zhangyangshi},[a("span",[e._v(e._s(e.zhangyangshitxt))])])]),e._v(" "),a("table",{staticClass:"zijidanjutb",attrs:{border:"1"}},[a("tr",{staticClass:"tr"},[a("td",[e._v("单据")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.form1.oddNumber))])]),e._v(" "),a("tr",[a("td",[e._v("制单人")]),e._v(" "),a("td",[e._v(e._s(e.form1.userInfo.name))]),e._v(" "),a("td",[e._v("供应商")]),e._v(" "),a("td",[e._v(e._s(e.form1.supplier.supplierName))])]),e._v(" "),a("tr",[a("td",[e._v("收款方式")]),e._v(" "),a("td",[e._v(e._s(e.form1.paymentTermName))]),e._v(" "),a("td",[e._v("货币信息")]),e._v(" "),a("td",[e._v(e._s(e.form1.currencyInfo.currencyName))])]),e._v(" "),a("tr",[a("td",[e._v("收入金额")]),e._v(" "),a("td",[e._v(e._s(e.form1.incomeAmount))]),e._v(" "),a("td",[e._v("支出金额")]),e._v(" "),a("td",[e._v(e._s(e.form1.expenseAmount))])]),e._v(" "),a("tr",[a("td",[e._v("摘要")]),e._v(" "),a("td",[e._v(e._s(e.form1.comment))]),e._v(" "),a("td",[e._v("客户信息")]),e._v(" "),a("td",[e._v(e._s(e.form1.customerInfo.customerName))])]),e._v(" "),a("tr",[a("td",[e._v("账号")]),e._v(" "),a("td",[e._v(e._s(e.form1.account))]),e._v(" "),a("td",[e._v("会计科目")]),e._v(" "),a("td",[e._v(e._s(e.form1.accountTitle.accountTitleName))])]),e._v(" "),a("tr",[a("td",[e._v("公司信息")]),e._v(" "),a("td",[e._v(e._s(e.form1.companyInfo.companyName))]),e._v(" "),a("td",[e._v("部门")]),e._v(" "),a("td",[e._v(e._s(e.form1.department.name))])]),e._v(" "),a("tr",[a("td",[e._v("报销人")]),e._v(" "),a("td",[e._v(e._s(e.form1.expenseUserInfo.name))]),e._v(" "),a("td",[e._v("制单日期")]),e._v(" "),a("td",[e._v(e._s(e.form1.createDate))])]),e._v(" "),a("tr",[a("td",[e._v("项目信息")]),e._v(" "),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.form1.projectInfo.projectName))])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"4"}},[e._v("产品线分摊表")])]),e._v(" "),a("tr",[a("td",{attrs:{colspan:"2"}},[e._v("产品线")]),e._v(" "),a("td",[e._v("比例")]),e._v(" "),a("td",[e._v("金额")])]),e._v(" "),e._l(e.form1.ieProductLines,function(t){return a("tr",{key:t.ieProductLineId},[a("td",{attrs:{colspan:"2"}},[e._v(e._s(t.productLine.productLineName))]),e._v(" "),a("td",[e._v(e._s(t.sumRatio))]),e._v(" "),a("td",[e._v(e._s(t.practicalSum))])])})],2),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form1,"label-width":"80px"}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.querydialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.querydialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,c,!1,function(e){a("1inY"),a("MZMf")},null,null);t.default=l.exports}});
//# sourceMappingURL=7.37195ca1733c2fef3aa9.js.map