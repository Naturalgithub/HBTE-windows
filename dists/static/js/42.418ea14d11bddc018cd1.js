webpackJsonp([42],{"Q/iw":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Xxa5"),n=a.n(r),l=a("exGp"),o=a.n(l),u=a("t4zo"),i=a.n(u),c=a("uXZL"),s=a.n(c),d={data:function(){return{options:[{value:"1",label:"1月"},{value:"2",label:"2月"},{value:"3",label:"3月"},{value:"4",label:"4月"},{value:"5",label:"5月"},{value:"6",label:"6月"},{value:"7",label:"7月"},{value:"8",label:"8月"},{value:"9",label:"9月"},{value:"10",label:"10月"},{value:"11",label:"11月"},{value:"12",label:"12月"}],value:"",aa:11,dapartmentList:[],tableData:[]}},created:function(){this.getkuaijiList(),this.getInOutList()},methods:{exportExcel:function(){var e=document.querySelector("#table").cloneNode(!0);e.removeChild(e.querySelector(".el-table__fixed"));var t=s.a.utils.table_to_book(e,{raw:!0});this.companyReport;this.dataEndDate&&this.dataEndDate;var a=s.a.write(t,{bookType:"xlsx",bookSST:!0,type:"array"});try{i.a.saveAs(new Blob([a],{type:"application/octet-stream"}),"产品线收支表.xlsx")}catch(e){"undefined"!=typeof console&&console.log(e,a)}return a},getkuaijiList:function(){var e=this;return o()(n.a.mark(function t(){var a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("hbte-financial/hbte/accountTitle/getAccountTitleProductLineSum",{params:{createDate:e.value}});case 2:a=t.sent,r=a.data,e.tableData=r.data;case 5:case"end":return t.stop()}},t,e)}))()},getInOutList:function(){var e=this;return o()(n.a.mark(function t(){var a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("hbte-financial/hbte/productLine/productLineList");case 2:a=t.sent,r=a.data,e.dapartmentList=r.data;case 5:case"end":return t.stop()}},t,e)}))()},formatNumberRgx:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},rowa:function(e,t){for(var a=0;a<e.productLines.length;a++)if(e.productLines[a].productLineId===t&&"0.00"!==e.productLines[a].productLineSum)return this.formatNumberRgx(e.productLines[a].productLineSum)},hejirow:function(e){var t=Number(e);return""==t?"":0==t?"":this.formatNumberRgx(t)+".00"},queryList:function(e){this.getkuaijiList()}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pline"},[a("div",{staticClass:"export"},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"medium",type:"success"},on:{click:e.exportExcel}},[e._v("导出")]),e._v(" "),a("el-date-picker",{staticStyle:{"margin-left":"30px"},attrs:{type:"month",placeholder:"选择月","value-format":"yyyy-MM"},on:{change:e.queryList},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px","margin-top":"10px"},attrs:{id:"table",data:e.tableData,border:"",size:"mini","row-key":"accountTitleId","tree-props":{children:"children",hasChildren:"hasChildren",label:"productLineName"}}},[a("el-table-column",{attrs:{prop:"accountTitleName",sortable:"",label:"费用明细/部门",fixed:"",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sum",border:"",label:"合计"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s("NaN.00"==e.hejirow(a.sum)?"":e.hejirow(a.sum)))]}}])}),e._v(" "),e._l(e.dapartmentList,function(t){return a("el-table-column",{key:t.productLineId,attrs:{prop:"sum",label:t.productLineName},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[e._v(e._s(e.rowa(r,t.productLineId)))]}}],null,!0)},[e._v(" "),e._l(t.children,function(t){return a("el-table-column",{key:t.productLineId,attrs:{prop:"",label:t.productLineName},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[e._v(e._s(e.rowa(r,t.productLineId)))]}}],null,!0)},[e._v(" "),e._l(t.children,function(t){return a("el-table-column",{key:t.productLineId,attrs:{prop:"",label:t.productLineName},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[e._v(e._s(e.rowa(r,t.productLineId)))]}}],null,!0)},[e._v(" "),e._l(t.children,function(t){return a("el-table-column",{key:t.productLineId,attrs:{prop:"",label:t.productLineName},scopedSlots:e._u([{key:"default",fn:function(a){var r=a.row;return[e._v(e._s(e.rowa(r,t.productLineId)))]}}],null,!0)})})],2)})],2)})],2)})],2)],1)},staticRenderFns:[]},v=a("VU/8")(d,p,!1,null,null,null);t.default=v.exports}});
//# sourceMappingURL=42.418ea14d11bddc018cd1.js.map