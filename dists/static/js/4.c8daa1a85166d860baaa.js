webpackJsonp([4],{Y0Ml:function(e,t){},YYj4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),o=n.n(a),s=n("exGp"),r=n.n(s),i={data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-6048e5),e.$emit("pick",[n,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-2592e6),e.$emit("pick",[n,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,n=new Date;n.setTime(n.getTime()-7776e6),e.$emit("pick",[n,t])}}]},zhangyangshitxt:"",startTime:"",endTime:"",value1:"",value2:"",total:2,zhangyangshi:"border:3px solid red;color:red",page:1,pageSize:50,once:!1,querydialogVisible:!1,form1:{expenseUserInfo:{name:""},actualName:"",clerk:"",incomeExpenseInfoId:"",comment:"",account:"",aa:"",oddNumber:"",createDate:"",createTime:"",userInfo:{userInfoId:"",name:""},supplier:{supplierName:""},paymentTermId:"",currencyInfo:{currencyInfoId:""},incomeAmount:"",expenseAmount:"",customerInfo:{customerInfoId:"",customerName:""},bankInfo:{bankInfoId:""},actInfoId:"",accountTitle:{accountTitleId:""},companyInfo:{companyInfoId:"",companyName:""},department:{departmentId:""},productLine:{productLineId:""},projectInfo:{projectInfoId:""},sumRatio:"",actExecutions:[]},checkdataa:[],search:"",tableData:[],form:{test:1,text:"dhaskjdhasjkdhasf打首付款几哈是否会暗示法哈克斯房间号按时发哈市副科级暗示法好假刷卡几号放假"},dialogVisible:!1,inouttitle:""}},created:function(){this.getactTodoList()},methods:{rounddate:function(e){console.log(e),console.log(this.value1),this.startTime=e[0],this.endTime=e[1],this.getactTodoList()},checkdata:function(e){var t=this;return r()(o.a.mark(function n(){var a,s;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.dialogVisible=!0,n.next=3,t.$axios.get("hbte-financial/hbte/actExecution/getActExecution",{params:{eventInfoId:e}});case 3:a=n.sent,s=a.data,t.checkdataa=s.data;case 6:case"end":return n.stop()}},n,t)}))()},getactTodoList:function(){var e=this;return r()(o.a.mark(function t(){var n,a,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.parse(localStorage.getItem("data")),t.next=3,e.$axios.get("hbte-financial/hbte/actTodo/actTodoList",{params:{page:e.page,pageSize:e.pageSize,userInfoId:n.id,startTime:e.startTime,endTime:e.endTime}});case 3:a=t.sent,s=a.data,e.tableData=s.data,e.total=s.count;case 7:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){this.pageSize=e,this.page=1,this.getactTodoList()},handleCurrentChange:function(e){this.page=e,this.getactTodoList()},changeState:function(e){var t=this;return r()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,t)}))()},queryInout:function(e){var t=this;return r()(o.a.mark(function n(){var a,s;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(2),t.querydialogVisible=!0,n.next=4,t.$axios.get("hbte-financial/hbte/incomeExpense/getIncomeExpenseInfo",{params:{incomeExpenseInfoId:e}});case 4:a=n.sent,s=a.data,console.log(s.data),t.form1=s.data,0==s.data.incomeExpenseType?t.inouttitle="收款单据":1==s.data.incomeExpenseType?t.inouttitle="付款单据":2==s.data.incomeExpenseType?t.inouttitle="报销单据":t.inouttitle="其他单据",0==s.data.actStatus?(t.zhangyangshitxt="进行中",t.zhangyangshi="border:3px solid #ccc;color:#ccc"):1==s.data.actStatus?(t.zhangyangshitxt="已同意",t.zhangyangshi="border:3px solid rgb(103, 194, 58);color:rgb(103, 194, 58)"):2==s.data.actStatus&&(t.zhangyangshitxt="已拒绝",t.zhangyangshi="border:3px solid red;color:red");case 10:case"end":return n.stop()}},n,t)}))()},sp:function(e,t){var n=this;return r()(o.a.mark(function a(){var s;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.$axios.post("hbte-financial/hbte/actExecution/updateActExecution",{actExecutionId:t.actExecution.actExecutionId,actExecutionStatus:e,eventInfo:{eventInfoId:t.eventInfo.eventInfoId,eventTime:t.eventTime,eventComment:t.eventComment,userInfo:{userInfoId:t.userInfo.userInfoId}},incomeExpenseInfo:{incomeExpenseInfoId:t.incomeExpenseInfo.incomeExpenseInfoId}});case 2:s=a.sent,s.data,n.getactTodoList();case 5:case"end":return a.stop()}},a,n)}))()}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ApplicationList"},[n("div",{staticClass:"block"},[n("el-date-picker",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd"},on:{change:e.rounddate},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",size:"mini"}},[n("el-table-column",{attrs:{sortable:"",label:"单据类型"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("span",{directives:[{name:"show",rawName:"v-show",value:0==a.incomeExpenseInfo.incomeExpenseType,expression:"row.incomeExpenseInfo.incomeExpenseType==0"}]},[e._v("收款单据")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:1==a.incomeExpenseInfo.incomeExpenseType,expression:"row.incomeExpenseInfo.incomeExpenseType==1"}]},[e._v("付款单据")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:2==a.incomeExpenseInfo.incomeExpenseType,expression:"row.incomeExpenseInfo.incomeExpenseType==2"}]},[e._v("报销单据")])]}}])}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"userInfo.name",label:"申请人"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"eventTime",label:"申请日期"}}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"incomeExpenseInfo.oddNumber",label:"单号"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("a",{attrs:{href:"###"},on:{click:function(t){return e.queryInout(a.incomeExpenseInfo.incomeExpenseInfoId)}}},[e._v(e._s(a.incomeExpenseInfo.oddNumber))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"eventComment",label:"备注"}}),e._v(" "),n("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[0===a.actExecution.actExecutionStatus?n("el-button",{attrs:{type:"info",round:"",size:"small"}},[e._v("进行中")]):e._e(),e._v(" "),1===a.actExecution.actExecutionStatus?n("el-button",{attrs:{type:"success",size:"small",disabled:""}},[e._v("同意")]):e._e(),e._v(" "),2===a.actExecution.actExecutionStatus?n("el-button",{attrs:{type:"warning",size:"small",disabled:""}},[e._v("拒绝")]):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{sortable:"",prop:"userInfo.name",label:"审批"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[0==a.actExecution.actExecutionStatus?n("span",[n("el-button",{attrs:{type:"success",round:"",disabled:e.once},on:{click:function(t){return e.sp(1,a)}}},[e._v("同意")]),e._v(" "),n("el-button",{attrs:{type:"danger",round:"",disabled:e.once},on:{click:function(t){return e.sp(2,a)}}},[e._v("拒绝")])],1):(a.actExecution.actExecutionStatus,n("span",[e._v("已处理")]))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.checkdata(a.eventInfo.eventInfoId)}}},[e._v("查看进度")])]}}])})],1),e._v(" "),n("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"","current-page":e.page,"page-sizes":[30,50,80],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),n("el-dialog",{attrs:{title:"当前进度",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.checkdataa}},[n("el-table-column",{attrs:{prop:"userInfo.name",label:"名字"}}),e._v(" "),n("el-table-column",{attrs:{prop:"actExecutionTime",label:"时间"}}),e._v(" "),n("el-table-column",{attrs:{prop:"actExecutionComment",label:"备注"}}),e._v(" "),n("el-table-column",{attrs:{label:"状态",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[0===a.actExecutionStatus?n("el-button",{attrs:{type:"info",disabled:"",size:"small"}},[e._v("未处理")]):e._e(),e._v(" "),1===a.actExecutionStatus?n("el-button",{attrs:{type:"success",disabled:"",size:"small"}},[e._v("同意")]):e._e(),e._v(" "),2===a.actExecutionStatus?n("el-button",{attrs:{type:"danger",disabled:"",size:"small"}},[e._v("拒绝")]):e._e()]}}])})],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:e.inouttitle,visible:e.querydialogVisible,width:"40%"},on:{"update:visible":function(t){e.querydialogVisible=t}}},[n("div",{staticClass:"rongqi"},[n("div",{staticClass:"zhang",style:e.zhangyangshi},[n("span",[e._v(e._s(e.zhangyangshitxt))])])]),e._v(" "),n("table",{staticClass:"zijidanjutb",attrs:{border:"1"}},[n("tr",{staticClass:"tr"},[n("td",[e._v("单据")]),e._v(" "),n("td",{attrs:{colspan:"3"}},[e._v(e._s(e.form1.oddNumber))])]),e._v(" "),n("tr",[n("td",[e._v("制单人")]),e._v(" "),n("td",[e._v(e._s(e.form1.userInfo.name))]),e._v(" "),n("td",[e._v("供应商")]),e._v(" "),n("td",[e._v(e._s(e.form1.supplier.supplierName))])]),e._v(" "),n("tr",[n("td",[e._v("收款方式")]),e._v(" "),n("td",[e._v(e._s(e.form1.paymentTermName))]),e._v(" "),n("td",[e._v("货币信息")]),e._v(" "),n("td",[e._v(e._s(e.form1.currencyInfo.currencyName))])]),e._v(" "),n("tr",[n("td",[e._v("收入金额")]),e._v(" "),n("td",[e._v(e._s(e.form1.incomeAmount))]),e._v(" "),n("td",[e._v("支出金额")]),e._v(" "),n("td",[e._v(e._s(e.form1.expenseAmount))])]),e._v(" "),n("tr",[n("td",[e._v("摘要")]),e._v(" "),n("td",[e._v(e._s(e.form1.comment))]),e._v(" "),n("td",[e._v("客户信息")]),e._v(" "),n("td",[e._v(e._s(e.form1.customerInfo.customerName))])]),e._v(" "),n("tr",[n("td",[e._v("账号")]),e._v(" "),n("td",[e._v(e._s(e.form1.account))]),e._v(" "),n("td",[e._v("会计科目")]),e._v(" "),n("td",[e._v(e._s(e.form1.accountTitle.accountTitleName))])]),e._v(" "),n("tr",[n("td",[e._v("公司信息")]),e._v(" "),n("td",[e._v(e._s(e.form1.companyInfo.companyName))]),e._v(" "),n("td",[e._v("部门")]),e._v(" "),n("td",[e._v(e._s(e.form1.department.name))])]),e._v(" "),n("tr",[n("td",[e._v("报销人")]),e._v(" "),n("td",[e._v(e._s(e.form1.expenseUserInfo.name))]),e._v(" "),n("td",[e._v("制单日期")]),e._v(" "),n("td",[e._v(e._s(e.form1.createDate))])]),e._v(" "),n("tr",[n("td",[e._v("项目信息")]),e._v(" "),n("td",{attrs:{colspan:"3"}},[e._v(e._s(e.form1.projectInfo.projectName))])]),e._v(" "),n("tr",[n("td",{attrs:{colspan:"4"}},[e._v("产品线分摊表")])]),e._v(" "),n("tr",[n("td",{attrs:{colspan:"2"}},[e._v("产品线")]),e._v(" "),n("td",[e._v("比例")]),e._v(" "),n("td",[e._v("金额")])]),e._v(" "),e._l(e.form1.ieProductLines,function(t){return n("tr",{key:t.ieProductLineId},[n("td",{attrs:{colspan:"2"}},[e._v(e._s(t.productLine.productLineName))]),e._v(" "),n("td",[e._v(e._s(t.sumRatio))]),e._v(" "),n("td",[e._v(e._s(t.practicalSum))])])})],2),e._v(" "),n("el-form",{ref:"form",attrs:{model:e.form1,"label-width":"80px"}}),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.querydialogVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.querydialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=n("VU/8")(i,c,!1,function(e){n("k8py"),n("Y0Ml")},null,null);t.default=l.exports},k8py:function(e,t){}});
//# sourceMappingURL=4.c8daa1a85166d860baaa.js.map